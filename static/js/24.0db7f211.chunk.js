"use strict";(self.webpackChunkwallet_app=self.webpackChunkwallet_app||[]).push([[24],{4838:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(9439),s="Balance_balanceField__LXnRa",i="Balance_title__jYFRk",c="Balance_amount__vp6eZ",r=a(2791),o=a(184),l=function(e){var t=e.balance,a=(0,r.useState)(0),l=(0,n.Z)(a,2),u=l[0],d=l[1];return(0,r.useEffect)((function(){d(function(e){var t=0;return Array.isArray(e)&&e.forEach((function(e){var a=parseFloat(e.Sum);t+="-"===e.Type?-a:a})),t.toFixed(2)}(t))}),[t]),(0,o.jsxs)("div",{className:s,children:[(0,o.jsx)("span",{className:i,children:"YOUR BALANCE"}),(0,o.jsxs)("span",{className:c,children:["z\u0142 ",u]})]})}},2841:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(1413),s=a(9439),i=a(2791),c=a(9894),r=a(7125),o=a(7708),l="Chart_diagramContainer__QZ7to",u="Chart_diagramValue__E8171",d=a(184),_=function(e){var t=e.chartData,a=(0,i.useRef)(null),n=(0,i.useRef)(null),c=(0,i.useState)({width:0,height:0}),r=(0,s.Z)(c,2),_=(r[0],r[1]);return(0,i.useEffect)((function(){n.current&&n.current.destroy();var e=a.current.getContext("2d");n.current=new o.ZP(e,{type:"doughnut",data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},cutout:"70%"}});var s=a.current.width,i=a.current.height;return _({width:s,height:i}),function(){n.current&&n.current.destroy()}}),[t]),(0,d.jsxs)("div",{style:{position:"relative"},className:l,children:[(0,d.jsx)("canvas",{ref:a}),(0,d.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",width:"100%",color:"#000"},children:(0,d.jsxs)("div",{style:{fontSize:"18px",fontWeight:"700"},className:u,children:["z\u0142 ",t.datasets[0].data.reduce((function(e,t){return e+t}),0)||0]})})]})},m={inputWithArrow:"DropdownMenu_inputWithArrow__+l5td",statisticContent_input:"DropdownMenu_statisticContent_input__2mBx3",selectMonthInput:"DropdownMenu_selectMonthInput__m0siu",selectYearInput:"DropdownMenu_selectYearInput__Wk4Eb",arrowIcon:"DropdownMenu_arrowIcon__4++2O",optionList:"DropdownMenu_optionList__jT2gz",selectedOptionLi:"DropdownMenu_selectedOptionLi__jKcMa",optionLi:"DropdownMenu_optionLi__ahpIl"};var p=a.p+"static/media/arrow.af3e97db49b7b844c7f8d9e990a12a45.svg",x=function(){var e=(0,i.useState)(null),t=(0,s.Z)(e,2),a=t[0],n=t[1],c=(0,i.useState)("January"),r=(0,s.Z)(c,2),o=r[0],l=r[1],u=(0,i.useState)("2023"),_=(0,s.Z)(u,2),x=_[0],h=_[1],g=function(e){n(a===e?null:e)};return(0,d.jsx)("div",{className:m.statisticContent,children:(0,d.jsxs)("div",{className:m.statisticContent_input,children:[(0,d.jsxs)("div",{className:m.select,children:[(0,d.jsx)("div",{onClick:function(){return g("month")},className:m.timeBox,children:(0,d.jsxs)("div",{className:m.inputWithArrow,children:[(0,d.jsx)("input",{className:m.selectMonthInput,value:o,readOnly:!0}),(0,d.jsx)("img",{src:p,alt:"arrow icon",className:m.arrowIcon})]})}),"month"===a&&(0,d.jsx)("ul",{className:m.optionList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e){return(0,d.jsx)("li",{onClick:function(){l(e),n(null)},className:o===e?m.selectedOptionLi:m.optionLi,children:e},e)}))})]}),(0,d.jsxs)("div",{className:m.select,children:[(0,d.jsx)("div",{onClick:function(){return g("year")},className:m.timeBox,children:(0,d.jsxs)("div",{className:m.inputWithArrow,children:[(0,d.jsx)("input",{className:"".concat(m.selectMonthInput," ").concat(m.selectYearInput),value:x,readOnly:!0}),(0,d.jsx)("img",{src:p,alt:"arrow icon",className:m.arrowIcon})]})}),"year"===a&&(0,d.jsx)("ul",{className:m.optionList,children:["2021","2022","2023"].map((function(e){return(0,d.jsx)("li",{onClick:function(){h(e),n(null)},className:x===e?m.selectedOptionLi:m.optionLi,children:e},e)}))})]})]})})},h={categoryContainer:"CategoryItem_categoryContainer__mIzSw",categoryTitle:"CategoryItem_categoryTitle__wnlct",categoryList:"CategoryItem_categoryList__xd8Rt",categoryListEl:"CategoryItem_categoryListEl__sD9b9",category:"CategoryItem_category__DYKw9",accountBalanceContainer:"CategoryItem_accountBalanceContainer__Q-a5f",accountBalanceList:"CategoryItem_accountBalanceList__7ZRmG",expenseText:"CategoryItem_expenseText__WMc+1",incomeText:"CategoryItem_incomeText__RpoMP",expenseValue:"CategoryItem_expenseValue__fA9Zu",incomeValue:"CategoryItem_incomeValue__ICq5v"},g=function(e){var t=e.labels,a=e.datasets,n=e.accountBalance,s=e.categoryData,i=e.expenses,c=e.income;a[0].data.reduce((function(e,t){return e+t}),0);return(0,d.jsxs)("div",{className:h.categoryContainer,children:[(0,d.jsxs)("div",{className:h.categoryTitle,children:[(0,d.jsx)("h3",{children:"Category"}),(0,d.jsx)("h3",{children:"Sum"})]}),(0,d.jsx)("div",{className:h.categoryList,children:(0,d.jsx)("ul",{children:t.map((function(e,t){return(0,d.jsxs)("li",{className:h.categoryListEl,children:[(0,d.jsx)("span",{className:h.categoryColor,style:{backgroundColor:a[0].backgroundColor[t],width:"24px",height:"24px",borderRadius:"2px",display:"inline-block",marginRight:"16px"}}),(0,d.jsxs)("div",{className:h.category,children:[(0,d.jsxs)("div",{className:h.categoryName,children:[e,":"]}),(0,d.jsx)("div",{className:h.categoryAmount,children:a[0].data[t]})]})]},t)}))})}),(0,d.jsx)("div",{className:h.accountBalanceContainer,children:(0,d.jsxs)("ul",{className:h.accountBalanceList,children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:h.expenseText,children:"Expenses:"}),(0,d.jsxs)("span",{className:h.expenseValue,children:[i,s.reduce((function(e,t){return e+t.amount}),0)]})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:h.incomeText,children:"Income:"}),(0,d.jsxs)("span",{className:h.incomeValue,children:[n,c()]})]})]})})]})},y=a(4838),f=a(1601),j={statistic_container:"Statistic_statistic_container__0iupu",tabletViewBox1:"Statistic_tabletViewBox1__xdjVa",tabletViewBox2:"Statistic_tabletViewBox2__nU7HH",tabletViewBox3:"Statistic_tabletViewBox3__W9WEH",elipse1:"Statistic_elipse1__8p1ZQ",elipse2:"Statistic_elipse2__QS81m",statistic_containerActual:"Statistic_statistic_containerActual__9Gi7-",statistic_container_left:"Statistic_statistic_container_left__Y567f",statistic_container_right:"Statistic_statistic_container_right__oeM0D",statistic_container_desktop_right:"Statistic_statistic_container_desktop_right__m9ndc"},v=a(7322),N=a(9149),w="accountBalance",C=function(){var e=JSON.parse(localStorage.getItem("transactions")),t=(0,i.useState)(window.innerWidth),a=(0,s.Z)(t,2),o=a[0],l=a[1];(0,i.useEffect)((function(){var e=function(){l(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]);var u=function(e,t){return e.reduce((function(e,a){return a.Category===t&&"-"===a.Type?e+parseFloat(a.Sum):e}),0)},m=(0,i.useMemo)((function(){return[{category:"Main Expenses",amount:u(e,"Main Expenses")},{category:"Products",amount:u(e,"Leisure")},{category:"Car",amount:u(e,"Car")},{category:"Self care",amount:u(e,"Self care")},{category:"Child care",amount:u(e,"Child care")},{category:"Household products",amount:u(e,"Household products")},{category:"Education",amount:u(e,"Education")},{category:"Leisure",amount:u(e,"Leisure")},{category:"Other expenses",amount:u(e,"Other expenses")}]}),[]),p=(0,i.useState)("January"),h=(0,s.Z)(p,2),C=h[0],b=h[1],S=o>767,I=(0,i.useState)((function(){var e=localStorage.getItem(w);return e?parseFloat(e):2400})),L=(0,s.Z)(I,2),B=L[0],Z=L[1],M=(0,i.useState)((function(){var e=localStorage.getItem("expenses");return e?JSON.parse(e):[]})),A=(0,s.Z)(M,2),E=A[0],D=(A[1],function(){var e=B,t=E.reduce((function(e,t){return e+t.amount}),0);return{newBalance:e-t,expensesTotal:t}}),k=(0,i.useMemo)((function(){var e=E.reduce((function(e,t){return e+t.amount}),0);return{datasets:[{data:m.map((function(e){return e.amount})),backgroundColor:["#FED057","#FFD8D0","#FD9498","#C5BAFF","#6E78E8","#4A56E2","#81E1FF","#24CCA7","#00AD84"]}],labels:m.map((function(e){return e.category})),expensesTotal:e}}),[m,E]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(c.Z,{}),(0,d.jsxs)("div",{className:j.statistic_container,children:[(0,d.jsxs)("div",{className:j.statistic_container_desktop_left,children:[o<767&&(0,d.jsx)(r.Z,{}),S?(0,d.jsxs)("div",{className:j.tabletViewBox1,children:[(0,d.jsxs)("div",{className:j.tabletViewBox2,children:[(0,d.jsx)(r.Z,{}),(0,d.jsx)(y.Z,{balance:e})]}),(0,d.jsx)("div",{className:j.tabletViewBox3,children:(0,d.jsx)(f.Z,{})})]}):null]}),(0,d.jsx)("div",{className:j.statistic_container_desktop_right,children:(0,d.jsxs)("div",{className:j.statistic_containerActual,children:[(0,d.jsxs)("div",{className:j.statistic_container_left,children:[(0,d.jsx)("div",{className:j.h1_container,children:(0,d.jsx)("h1",{children:"Statistics"})}),(0,d.jsx)(_,{chartData:(0,n.Z)((0,n.Z)({},k),{},{accountBalance:B})})]}),(0,d.jsxs)("div",{className:j.statistic_container_right,children:[(0,d.jsx)(x,{selected:C,options:["January","February","March","April","May","June","July","August","September","October","November","December"],onOptionSelect:function(e){b(e);var t=D();Z(t),localStorage.setItem(w,t.toString())}}),(0,d.jsx)(g,{labels:k.labels,datasets:k.datasets,expenses:E,income:function(){return e.reduce((function(e,t){return"+"===t.Type?e+parseFloat(t.Sum):e}),0)},categoryData:m}),(0,d.jsx)("div",{className:j.bg}),(0,d.jsx)("img",{className:j.elipse1,src:v.Z,alt:"elipse orange"}),(0,d.jsx)("img",{className:j.elipse2,src:N.Z,alt:"elipse purple"})]})]})})]})]})}}}]);
//# sourceMappingURL=24.0db7f211.chunk.js.map